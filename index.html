<body>
<div id="output" style="font-family: monospace; white-space: pre;"></div>

<script>
    // Base64-encoded input (replace with your encoded string)
    const base64Input = "ewogICAgImluaXRpYXRlIjogIlNvcnJ5Li4uXG5UaGVyZSBpcyBub3RoaW5nIGhlcmVcblxuU3VwcG9ydDogaHR0cHM6Ly9kaXNjb3JkLmdnLzdDS3hQTkVFN2EiLAogICAgImltYWdlIjogWwogICAgICAgICLilojilojilojilojilojilojilogg4paI4paI4paI4paI4paI4paIICDilojilojilojilojilojiloggICDilojilojilojilojilojiloggIOKWiOKWiOKWiOKWiOKWiOKWiCAgIiwKICAgICAgICAi4paI4paIICAgICAg4paI4paIICAg4paI4paIIOKWiOKWiCAgIOKWiOKWiCDilojiloggICAg4paI4paIIOKWiOKWiCAgIOKWiOKWiCAiLAogICAgICAgICLilojilojilojilojiloggICDilojilojilojilojilojiloggIOKWiOKWiOKWiOKWiOKWiOKWiCAg4paI4paIICAgIOKWiOKWiCDilojilojilojilojilojiloggICIsCiAgICAgICAgIuKWiOKWiCAgICAgIOKWiOKWiCAgIOKWiOKWiCDilojiloggICDilojilogg4paI4paIICAgIOKWiOKWiCDilojiloggICDilojiloggIiwKICAgICAgICAi4paI4paI4paI4paI4paI4paI4paIIOKWiOKWiCAgIOKWiOKWiCDilojiloggICDilojiloggIOKWiOKWiOKWiOKWiOKWiOKWiCAg4paI4paIICAg4paI4paIICIKICAgIF0KfQ=="

    // Decode Base64 safely for Unicode characters
    function decodeBase64(str) {
        try {
            return decodeURIComponent(escape(atob(str)));
        } catch (e) {
            return "Error decoding Base64 string.";
        }
    }

    // Function to apply syntax highlighting
    function syntaxHighlight(json) {
        return JSON.stringify(json, (key, value) => {
            if (typeof value === 'string') {
                return `<span style="color: green;">"${value}"</span>`;
            } else if (typeof value === 'number') {
                return `<span style="color: darkblue;">${value}</span>`;
            } else if (typeof value === 'boolean') {
                return `<span style="color: indigo;">${value}</span>`;
            }
            return value;
        }, 4)
        .replace(/^( +)(\".*?\"):/gm, (match, p1, p2) => {
            return `${p1}<span style="color: #cc5500;">${p2}</span>:`; // Darker orange keys
        })
        .replace(/[{}]/g, (match) => {
            return `<span style="color: black;">${match}</span>`; // Black braces
        });
    }

    // Decode and highlight JSON
    const decodedText = decodeBase64(base64Input);
    let jsonObject;
    try {
        jsonObject = JSON.parse(decodedText);
    } catch (e) {
        document.getElementById('output').textContent = "Invalid JSON format.";
        throw e;
    }

    // Display the formatted JSON
    document.getElementById('output').innerHTML = syntaxHighlight(jsonObject);
</script>
</body>
